.TH "ceph_cls_lock" 9 "ceph_cls_lock" "May 2021" "Kernel Hacker's Manual" LINUX
.SH NAME
ceph_cls_lock \- grab rados lock for object @oid, @oloc: object to lock
.SH SYNOPSIS
.B "int" ceph_cls_lock
.BI "(struct ceph_osd_client *osdc "  ","
.BI "struct ceph_object_id *oid "  ","
.BI "struct ceph_object_locator *oloc "  ","
.BI "char *lock_name "  ","
.BI "u8 type "  ","
.BI "char *cookie "  ","
.BI "char *tag "  ","
.BI "char *desc "  ","
.BI "u8 flags "  ");"
.SH ARGUMENTS
.IP "osdc" 12
-- undescribed --
.IP "oid" 12
-- undescribed --
.IP "oloc" 12
-- undescribed --
.IP "lock_name" 12
the name of the lock
.IP "type" 12
lock type (CEPH_CLS_LOCK_EXCLUSIVE or CEPH_CLS_LOCK_SHARED)
.IP "cookie" 12
user-defined identifier for this instance of the lock
.IP "tag" 12
user-defined tag
.IP "desc" 12
user-defined lock description
.IP "flags" 12
lock flags
.SH "DESCRIPTION"
All operations on the same lock should use the same tag.
