.TH "tpm2_do_selftest" 9 "tpm2_do_selftest" "May 2021" "Kernel Hacker's Manual" LINUX
.SH NAME
tpm2_do_selftest \- ensure that all self tests have passed
.SH SYNOPSIS
.B "int" tpm2_do_selftest
.BI "(struct tpm_chip *chip "  ");"
.SH ARGUMENTS
.IP "chip" 12
TPM chip to use
.SH "RETURN"
Same as with tpm_transmit_cmd.
.SH "DESCRIPTION"
The TPM can either run all self tests synchronously and then return
RC_SUCCESS once all tests were successful. Or it can choose to run the tests
asynchronously and return RC_TESTING immediately while the self tests still
execute in the background. This function handles both cases and waits until
all tests have completed.
