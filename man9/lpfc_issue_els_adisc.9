.TH "lpfc_issue_els_adisc" 9 "lpfc_issue_els_adisc" "May 2021" "Kernel Hacker's Manual" LINUX
.SH NAME
lpfc_issue_els_adisc \- Issue an address discover iocb to an node on a vport
.SH SYNOPSIS
.B "int" lpfc_issue_els_adisc
.BI "(struct lpfc_vport *vport "  ","
.BI "struct lpfc_nodelist *ndlp "  ","
.BI "uint8_t retry "  ");"
.SH ARGUMENTS
.IP "vport" 12
pointer to a virtual N_Port data structure.
.IP "ndlp" 12
pointer to a node-list data structure.
.IP "retry" 12
number of retries to the command IOCB.
.SH "DESCRIPTION"
This routine issues an Address Discover (ADISC) for an \fIndlp\fP on a
\fIvport\fP. It prepares the payload of the ADISC ELS command, updates the
and states of the ndlp, and invokes the \fBlpfc_sli_issue_iocb\fP routine
to issue the ADISC ELS command.

Note that, in \fBlpfc_prep_els_iocb\fP routine, the reference count of ndlp
will be incremented by 1 for holding the ndlp and the reference to ndlp
will be stored into the context1 field of the IOCB for the completion
callback function to the ADISC ELS command.

Return code
0 - successfully issued adisc
1 - failed to issue adisc
