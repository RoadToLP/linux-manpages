.TH "find_cpio_data" 9 "find_cpio_data" "May 2021" "Kernel Hacker's Manual" LINUX
.SH NAME
find_cpio_data \- Search for files in an uncompressed cpio
.SH SYNOPSIS
.B "struct cpio_data" find_cpio_data
.BI "(const char *path "  ","
.BI "void *data "  ","
.BI "size_t len "  ","
.BI "long *nextoff "  ");"
.SH ARGUMENTS
.IP "path" 12
The directory to search for, including a slash at the end
.IP "data" 12
Pointer to the cpio archive or a header inside
.IP "len" 12
Remaining length of the cpio based on data pointer
.IP "nextoff" 12
When a matching file is found, this is the offset from the
beginning of the cpio to the beginning of the next file, not the
matching file itself. It can be used to iterate through the cpio
to find all files inside of a directory path.
.SH "RETURN"
\fIstruct cpio_data\fP containing the address, length and
filename (with the directory path cut off) of the found file.
If you search for a filename and not for files in a directory,
pass the absolute path of the filename in the cpio and make sure
the match returned an empty filename string.
