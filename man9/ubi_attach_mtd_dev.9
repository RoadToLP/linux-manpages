.TH "ubi_attach_mtd_dev" 9 "ubi_attach_mtd_dev" "May 2021" "Kernel Hacker's Manual" LINUX
.SH NAME
ubi_attach_mtd_dev \- attach an MTD device.
.SH SYNOPSIS
.B "int" ubi_attach_mtd_dev
.BI "(struct mtd_info *mtd "  ","
.BI "int ubi_num "  ","
.BI "int vid_hdr_offset "  ","
.BI "int max_beb_per1024 "  ");"
.SH ARGUMENTS
.IP "mtd" 12
MTD device description object
.IP "ubi_num" 12
number to assign to the new UBI device
.IP "vid_hdr_offset" 12
VID header offset
.IP "max_beb_per1024" 12
maximum expected number of bad PEB per 1024 PEBs
.SH "DESCRIPTION"
This function attaches MTD device \fImtd_dev\fP to UBI and assign \fIubi_num\fP number
to the newly created UBI device, unless \fIubi_num\fP is UBI_DEV_NUM_AUTO, in
which case this function finds a vacant device number and assigns it
automatically. Returns the new UBI device number in case of success and a
negative error code in case of failure.

Note, the invocations of this function has to be serialized by the
\fIubi_devices_mutex\fP.
