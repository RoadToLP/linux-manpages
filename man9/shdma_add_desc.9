.TH "shdma_add_desc" 9 "shdma_add_desc" "May 2021" "Kernel Hacker's Manual" LINUX
.SH NAME
shdma_add_desc \- get, set up and return one transfer descriptor
.SH SYNOPSIS
.B "struct shdma_desc *" shdma_add_desc
.BI "(struct shdma_chan *schan "  ","
.BI "unsigned long flags "  ","
.BI "dma_addr_t *dst "  ","
.BI "dma_addr_t *src "  ","
.BI "size_t *len "  ","
.BI "struct shdma_desc **first "  ","
.BI "enum dma_transfer_direction direction "  ");"
.SH ARGUMENTS
.IP "schan" 12
DMA channel
.IP "flags" 12
DMA transfer flags
.IP "dst" 12
destination DMA address, incremented when direction equals
DMA_DEV_TO_MEM or DMA_MEM_TO_MEM
.IP "src" 12
source DMA address, incremented when direction equals
DMA_MEM_TO_DEV or DMA_MEM_TO_MEM
.IP "len" 12
DMA transfer length
.IP "first" 12
if NULL, set to the current descriptor and cookie set to -EBUSY
.IP "direction" 12
needed for slave DMA to decide which address to keep constant,
equals DMA_MEM_TO_MEM for MEMCPY
Returns 0 or an error
Locks: called with desc_lock held
