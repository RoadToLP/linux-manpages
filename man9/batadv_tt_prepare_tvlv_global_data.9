.TH "batadv_tt_prepare_tvlv_global_data" 9 "batadv_tt_prepare_tvlv_global_data" "May 2021" "Kernel Hacker's Manual" LINUX
.SH NAME
batadv_tt_prepare_tvlv_global_data \- prepare the TVLV TT header to send within a TT Response directed to another node
.SH SYNOPSIS
.B "u16" batadv_tt_prepare_tvlv_global_data
.BI "(struct batadv_orig_node *orig_node "  ","
.BI "struct batadv_tvlv_tt_data **tt_data "  ","
.BI "struct batadv_tvlv_tt_change **tt_change "  ","
.BI "s32 *tt_len "  ");"
.SH ARGUMENTS
.IP "orig_node" 12
originator for which the TT data has to be prepared
.IP "tt_data" 12
uninitialised pointer to the address of the TVLV buffer
.IP "tt_change" 12
uninitialised pointer to the address of the area where the TT
changed can be stored
.IP "tt_len" 12
pointer to the length to reserve to the tt_change. if -1 this
function reserves the amount of space needed to send the entire global TT
table. In case of success the value is updated with the real amount of
reserved bytes
Allocate the needed amount of memory for the entire TT TVLV and write its
header made up of one tvlv_tt_data object and a series of tvlv_tt_vlan_data
objects, one per active VLAN served by the originator node.
.SH "RETURN"
the size of the allocated buffer or 0 in case of failure.
