.TH "shmem_kernel_file_setup" 9 "shmem_kernel_file_setup" "May 2021" "Kernel Hacker's Manual" LINUX
.SH NAME
shmem_kernel_file_setup \- get an unlinked file living in tmpfs which must be kernel internal. There will be NO LSM permission checks against the underlying inode. So users of this interface must do LSM checks at a higher layer. The users are the big_key and shm implementations. LSM checks are provided at the key or shm level rather than the inode.
.SH SYNOPSIS
.B "struct file *" shmem_kernel_file_setup
.BI "(const char *name "  ","
.BI "loff_t size "  ","
.BI "unsigned long flags "  ");"
.SH ARGUMENTS
.IP "name" 12
name for dentry (to be seen in /proc/<pid>/maps
.IP "size" 12
size to be set for the file
.IP "flags" 12
VM_NORESERVE suppresses pre-accounting of the entire object size
