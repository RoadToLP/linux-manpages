.TH "dwc2_driver_shutdown" 9 "dwc2_driver_shutdown" "May 2021" "Kernel Hacker's Manual" LINUX
.SH NAME
dwc2_driver_shutdown \- Called on device shutdown
.SH SYNOPSIS
.B "void" dwc2_driver_shutdown
.BI "(struct platform_device *dev "  ");"
.SH ARGUMENTS
.IP "dev" 12
Platform device
.SH "DESCRIPTION"
In specific conditions (involving usb hubs) dwc2 devices can create a
lot of interrupts, even to the point of overwhelming devices running
at low frequencies. Some devices need to do special clock handling
at shutdown-time which may bring the system clock below the threshold
of being able to handle the dwc2 interrupts. Disabling dwc2-irqs
prevents reboots/poweroffs from getting stuck in such cases.
