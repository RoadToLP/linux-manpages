.TH "clk_prepare" 9 "clk_prepare" "May 2021" "Kernel Hacker's Manual" LINUX
.SH NAME
clk_prepare \- prepare a clock source
.SH SYNOPSIS
.B "int" clk_prepare
.BI "(struct clk *clk "  ");"
.SH ARGUMENTS
.IP "clk" 12
the clk being prepared
.SH "DESCRIPTION"
clk_prepare may sleep, which differentiates it from clk_enable.  In a simple
case, clk_prepare can be used instead of clk_enable to ungate a clk if the
operation may sleep.  One example is a clk which is accessed over I2c.  In
the complex case a clk ungate operation may require a fast and a slow part.
It is this reason that clk_prepare and clk_enable are not mutually
exclusive.  In fact clk_prepare must be called before clk_enable.
Returns 0 on success, -EERROR otherwise.
