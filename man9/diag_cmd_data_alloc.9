.TH "diag_cmd_data_alloc" 9 "diag_cmd_data_alloc" "May 2021" "Kernel Hacker's Manual" LINUX
.SH NAME
diag_cmd_data_alloc \- fills in a bde struct with dma buffers
.SH SYNOPSIS
.B "struct lpfc_dmabufext *" diag_cmd_data_alloc
.BI "(struct lpfc_hba *phba "  ","
.BI "struct ulp_bde64 *bpl "  ","
.BI "uint32_t size "  ","
.BI "int nocopydata "  ");"
.SH ARGUMENTS
.IP "phba" 12
Pointer to HBA context object
.IP "bpl" 12
Pointer to 64 bit bde structure
.IP "size" 12
Number of bytes to process
.IP "nocopydata" 12
Flag to copy user data into the allocated buffer
.SH "DESCRIPTION"
This function allocates page size buffers and populates an lpfc_dmabufext.
If allowed the user data pointed to with indataptr is copied into the kernel
memory. The chained list of page size buffers is returned.
