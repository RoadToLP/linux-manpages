.TH "zynq_qspi_init_hw" 9 "zynq_qspi_init_hw" "May 2021" "Kernel Hacker's Manual" LINUX
.SH NAME
zynq_qspi_init_hw \- Initialize the hardware
.SH SYNOPSIS
.B "void" zynq_qspi_init_hw
.BI "(struct zynq_qspi *xqspi "  ","
.BI "unsigned int num_cs "  ");"
.SH ARGUMENTS
.IP "xqspi" 12
Pointer to the zynq_qspi structure
.IP "num_cs" 12
Number of connected CS (to enable dual memories if needed)
.SH "DESCRIPTION"
The default settings of the QSPI controller's configurable parameters on
reset are
- Master mode
- Baud rate divisor is set to 2
- Tx threshold set to 1l Rx threshold set to 32
- Flash memory interface mode enabled
- Size of the word to be transferred as 8 bit
This function performs the following actions
- Disable and clear all the interrupts
- Enable manual slave select
- Enable manual start
- Deselect all the chip select lines
- Set the size of the word to be transferred as 32 bit
- Set the little endian mode of TX FIFO and
- Enable the QSPI controller
