.TH "ubifs_prepare_node_hmac" 9 "ubifs_prepare_node_hmac" "May 2021" "Kernel Hacker's Manual" LINUX
.SH NAME
ubifs_prepare_node_hmac \- prepare node to be written to flash.
.SH SYNOPSIS
.B "int" ubifs_prepare_node_hmac
.BI "(struct ubifs_info *c "  ","
.BI "void *node "  ","
.BI "int len "  ","
.BI "int hmac_offs "  ","
.BI "int pad "  ");"
.SH ARGUMENTS
.IP "c" 12
UBIFS file-system description object
.IP "node" 12
the node to pad
.IP "len" 12
node length
.IP "hmac_offs" 12
offset of the HMAC in the node
.IP "pad" 12
if the buffer has to be padded
.SH "DESCRIPTION"
This function prepares node at \fInode\fP to be written to the media - it
calculates node CRC, fills the common header, and adds proper padding up to
the next minimum I/O unit if \fIpad\fP is not zero. if \fIhmac_offs\fP is positive then
a HMAC is inserted into the node at the given offset.

This function returns 0 for success or a negative error code otherwise.
