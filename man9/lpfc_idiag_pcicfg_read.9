.TH "lpfc_idiag_pcicfg_read" 9 "lpfc_idiag_pcicfg_read" "May 2021" "Kernel Hacker's Manual" LINUX
.SH NAME
lpfc_idiag_pcicfg_read \- idiag debugfs read pcicfg
.SH SYNOPSIS
.B "ssize_t" lpfc_idiag_pcicfg_read
.BI "(struct file *file "  ","
.BI "char __user *buf "  ","
.BI "size_t nbytes "  ","
.BI "loff_t *ppos "  ");"
.SH ARGUMENTS
.IP "file" 12
The file pointer to read from.
.IP "buf" 12
The buffer to copy the data to.
.IP "nbytes" 12
The number of bytes to read.
.IP "ppos" 12
The position in the file to start reading from.
.SH "DESCRIPTION"
This routine reads data from the \fIphba\fP pci config space according to the
idiag command, and copies to user \fIbuf\fP. Depending on the PCI config space
read command setup, it does either a single register read of a byte
(8 bits), a word (16 bits), or a dword (32 bits) or browsing through all
registers from the 4K extended PCI config space.
.SH "RETURN"
This function returns the amount of data that was read (this could be less
than \fInbytes\fP if the end of the file was reached) or a negative error value.
