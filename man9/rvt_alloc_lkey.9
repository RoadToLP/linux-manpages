.TH "rvt_alloc_lkey" 9 "rvt_alloc_lkey" "May 2021" "Kernel Hacker's Manual" LINUX
.SH NAME
rvt_alloc_lkey \- allocate an lkey
.SH SYNOPSIS
.B "int" rvt_alloc_lkey
.BI "(struct rvt_mregion *mr "  ","
.BI "int dma_region "  ");"
.SH ARGUMENTS
.IP "mr" 12
memory region that this lkey protects
.IP "dma_region" 12
0->normal key, 1->restricted DMA key
.SH "DESCRIPTION"
Returns 0 if successful, otherwise returns -errno.

Increments mr reference count as required.

Sets the lkey field mr for non-dma regions.
