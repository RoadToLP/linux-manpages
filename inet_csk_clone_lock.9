.TH "inet_csk_clone_lock" 9 "inet_csk_clone_lock" "May 2021" "Kernel Hacker's Manual" LINUX
.SH NAME
inet_csk_clone_lock \- clone an inet socket, and lock its clone
.SH SYNOPSIS
.B "struct sock *" inet_csk_clone_lock
.BI "(const struct sock *sk "  ","
.BI "const struct request_sock *req "  ","
.BI "const gfp_t priority "  ");"
.SH ARGUMENTS
.IP "sk" 12
the socket to clone
.IP "req" 12
request_sock
.IP "priority" 12
for allocation (GFP_KERNEL, GFP_ATOMIC, etc)

Caller must unlock socket even in error path (bh_unlock_sock(newsk))
