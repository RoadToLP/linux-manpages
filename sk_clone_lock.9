.TH "sk_clone_lock" 9 "sk_clone_lock" "May 2021" "Kernel Hacker's Manual" LINUX
.SH NAME
sk_clone_lock \- clone a socket, and lock its clone
.SH SYNOPSIS
.B "struct sock *" sk_clone_lock
.BI "(const struct sock *sk "  ","
.BI "const gfp_t priority "  ");"
.SH ARGUMENTS
.IP "sk" 12
the socket to clone
.IP "priority" 12
for allocation (GFP_KERNEL, GFP_ATOMIC, etc)

Caller must unlock socket even in error path (bh_unlock_sock(newsk))
