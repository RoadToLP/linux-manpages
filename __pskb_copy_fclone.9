.TH "__pskb_copy_fclone" 9 "__pskb_copy_fclone" "May 2021" "Kernel Hacker's Manual" LINUX
.SH NAME
__pskb_copy_fclone \- create copy of an sk_buff with private head.
.SH SYNOPSIS
.B "struct sk_buff *" __pskb_copy_fclone
.BI "(struct sk_buff *skb "  ","
.BI "int headroom "  ","
.BI "gfp_t gfp_mask "  ","
.BI "bool fclone "  ");"
.SH ARGUMENTS
.IP "skb" 12
buffer to copy
.IP "headroom" 12
headroom of new skb
.IP "gfp_mask" 12
allocation priority
.IP "fclone" 12
if true allocate the copy of the skb from the fclone
cache instead of the head cache; it is recommended to set this
to true for the cases where the copy will likely be cloned

Make a copy of both an \fIsk_buff\fP and part of its data, located
in header. Fragmented data remain shared. This is used when
the caller wishes to modify only header of \fIsk_buff\fP and needs
private copy of the header to alter. Returns NULL on failure
or the pointer to the buffer on success.
The returned buffer has a reference count of 1.
