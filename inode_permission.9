.TH "inode_permission" 9 "inode_permission" "May 2021" "Kernel Hacker's Manual" LINUX
.SH NAME
inode_permission \- Check for access rights to a given inode
.SH SYNOPSIS
.B "int" inode_permission
.BI "(struct user_namespace *mnt_userns "  ","
.BI "struct inode *inode "  ","
.BI "int mask "  ");"
.SH ARGUMENTS
.IP "mnt_userns" 12
User namespace of the mount the inode was found from
.IP "inode" 12
Inode to check permission on
.IP "mask" 12
Right to check for (MAY_READ, MAY_WRITE, MAY_EXEC)
.SH "DESCRIPTION"
Check for read/write/execute permissions on an inode.  We use fs[ug]id for
this, letting us set arbitrary permissions for filesystem access without
changing the "normal" UIDs which are used for other things.

When checking for MAY_APPEND, MAY_WRITE must also be set in \fImask\fP.
