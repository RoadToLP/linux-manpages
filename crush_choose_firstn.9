.TH "crush_choose_firstn" 9 "crush_choose_firstn" "May 2021" "Kernel Hacker's Manual" LINUX
.SH NAME
crush_choose_firstn \- choose numrep distinct items of given type
.SH SYNOPSIS
.B "int" crush_choose_firstn
.BI "(const struct crush_map *map "  ","
.BI "struct crush_work *work "  ","
.BI "const struct crush_bucket *bucket "  ","
.BI "const __u32 *weight "  ","
.BI "int weight_max "  ","
.BI "int x "  ","
.BI "int numrep "  ","
.BI "int type "  ","
.BI "int *out "  ","
.BI "int outpos "  ","
.BI "int out_size "  ","
.BI "unsigned int tries "  ","
.BI "unsigned int recurse_tries "  ","
.BI "unsigned int local_retries "  ","
.BI "unsigned int local_fallback_retries "  ","
.BI "int recurse_to_leaf "  ","
.BI "unsigned int vary_r "  ","
.BI "unsigned int stable "  ","
.BI "int *out2 "  ","
.BI "int parent_r "  ","
.BI "const struct crush_choose_arg *choose_args "  ");"
.SH ARGUMENTS
.IP "map" 12
the crush_map
.IP "work" 12
-- undescribed --
.IP "bucket" 12
the bucket we are choose an item from
.IP "weight" 12
-- undescribed --
.IP "weight_max" 12
-- undescribed --
.IP "x" 12
crush input value
.IP "numrep" 12
the number of items to choose
.IP "type" 12
the type of item to choose
.IP "out" 12
pointer to output vector
.IP "outpos" 12
our position in that vector
.IP "out_size" 12
size of the out vector
.IP "tries" 12
number of attempts to make
.IP "recurse_tries" 12
number of attempts to have recursive chooseleaf make
.IP "local_retries" 12
localized retries
.IP "local_fallback_retries" 12
localized fallback retries
.IP "recurse_to_leaf" 12
true if we want one device under each item of given type (chooseleaf instead of choose)
.IP "vary_r" 12
pass r to recursive calls
.IP "stable" 12
stable mode starts rep=0 in the recursive call for all replicas
.IP "out2" 12
second output vector for leaf items (if \fIrecurse_to_leaf\fP)
.IP "parent_r" 12
r value passed from the parent
.IP "choose_args" 12
-- undescribed --
