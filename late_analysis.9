.TH "late_analysis" 9 "late_analysis" "May 2021" "Kernel Hacker's Manual" LINUX
.SH NAME
late_analysis \- analyze the overall situation with PEB.
.SH SYNOPSIS
.B "int" late_analysis
.BI "(struct ubi_device *ubi "  ","
.BI "struct ubi_attach_info *ai "  ");"
.SH ARGUMENTS
.IP "ubi" 12
UBI device description object
.IP "ai" 12
attaching information
.SH "DESCRIPTION"
This is a helper function which takes a look what PEBs we have after we
gather information about all of them ("ai" is compete). It decides whether
the flash is empty and should be formatted of whether there are too many
corrupted PEBs and we should not attach this MTD device. Returns zero if we
should proceed with attaching the MTD device, and -EINVAL if we should not.
