.TH "crush_do_rule" 9 "crush_do_rule" "May 2021" "Kernel Hacker's Manual" LINUX
.SH NAME
crush_do_rule \- calculate a mapping with the given input and rule
.SH SYNOPSIS
.B "int" crush_do_rule
.BI "(const struct crush_map *map "  ","
.BI "int ruleno "  ","
.BI "int x "  ","
.BI "int *result "  ","
.BI "int result_max "  ","
.BI "const __u32 *weight "  ","
.BI "int weight_max "  ","
.BI "void *cwin "  ","
.BI "const struct crush_choose_arg *choose_args "  ");"
.SH ARGUMENTS
.IP "map" 12
the crush_map
.IP "ruleno" 12
the rule id
.IP "x" 12
hash input
.IP "result" 12
pointer to result vector
.IP "result_max" 12
maximum result size
.IP "weight" 12
weight vector (for map leaves)
.IP "weight_max" 12
size of weight vector
.IP "cwin" 12
pointer to at least \fBcrush_work_size\fP bytes of memory
.IP "choose_args" 12
weights and ids for each known bucket
