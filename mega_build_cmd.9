.TH "mega_build_cmd" 9 "mega_build_cmd" "May 2021" "Kernel Hacker's Manual" LINUX
.SH NAME
mega_build_cmd \- 
.SH SYNOPSIS
.B "scb_t *" mega_build_cmd
.BI "(adapter_t *adapter "  ","
.BI "struct scsi_cmnd *cmd "  ","
.BI "int *busy "  ");"
.SH ARGUMENTS
.IP "adapter" 12
pointer to our soft state
.IP "cmd" 12
Prepare using this scsi command
.IP "busy" 12
busy flag if no resources
.SH "DESCRIPTION"
Prepares a command and scatter gather list for the controller. This routine
also finds out if the commands is intended for a logical drive or a
physical device and prepares the controller command accordingly.

We also re-order the logical drives and physical devices based on their
boot settings.
