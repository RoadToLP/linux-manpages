.TH "machine_kexec_prepare" 9 "machine_kexec_prepare" "May 2021" "Kernel Hacker's Manual" LINUX
.SH NAME
machine_kexec_prepare \- Prepare for a kexec reboot.
.SH SYNOPSIS
.B "int" machine_kexec_prepare
.BI "(struct kimage *kimage "  ");"
.SH ARGUMENTS
.IP "kimage" 12
-- undescribed --
.SH "DESCRIPTION"

Called from the core kexec code when a kernel image is loaded.
Forbid loading a kexec kernel if we have no way of hotplugging cpus or cpus
are stuck in the kernel. This avoids a panic once we hit \fBmachine_kexec\fP.
