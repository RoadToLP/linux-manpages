.TH "nilfs_cpfile_change_cpmode" 9 "nilfs_cpfile_change_cpmode" "May 2021" "Kernel Hacker's Manual" LINUX
.SH NAME
nilfs_cpfile_change_cpmode \- change checkpoint mode
.SH SYNOPSIS
.B "int" nilfs_cpfile_change_cpmode
.BI "(struct inode *cpfile "  ","
.BI "__u64 cno "  ","
.BI "int mode "  ");"
.SH ARGUMENTS
.IP "cpfile" 12
inode of checkpoint file
.IP "cno" 12
checkpoint number
.IP "mode" 12
mode of checkpoint
.SH "DESCRIPTION"
\fBnilfs_change_cpmode\fP changes the mode of the checkpoint
specified by \fIcno\fP. The mode \fImode\fP is NILFS_CHECKPOINT or NILFS_SNAPSHOT.

Return Value: On success, 0 is returned. On error, one of the following
negative error codes is returned.

-EIO - I/O error.

-ENOMEM - Insufficient amount of memory available.

-ENOENT - No such checkpoint.
